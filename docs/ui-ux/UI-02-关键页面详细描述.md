# UI-02 关键页面详细描述

**文档版本**：v1.0
**创建时间**：2026-02-04
**负责人**：UX
**依赖**：UI-01 体验目标与信息架构
**状态**：Draft

---

## 文档说明

本文档为 UI-01 中定义的 7 个页面（P01-P07）提供详细的布局描述，供设计师绘制线框稿使用。

### 设计规范参考
- **栅格系统**：Vuetify 3 的 12 列响应式栅格
- **断点**：xs (<600px), sm (600-960px), md (960-1280px), lg (1280-1920px), xl (>1920px)
- **间距单位**：使用 dp（密度无关像素），基础单位 4dp
- **组件库**：Vuetify 3 (Material Design 3)

---

## P01 会话列表

### 页面目标
展示所有剧情复现会话，支持新建、删除、进入会话操作。

### 布局结构

#### 桌面端（lg/xl）
```
┌─────────────────────────────────────────────────────────┐
│  v-app-bar (高度: 64dp)                                   │
│  ├─ v-toolbar-title: "星穹铁道剧情复现计划"                │
│  └─ v-spacer + v-btn (新建会话)                           │
├─────────────────────────────────────────────────────────┤
│  v-container (max-width: 1200px, padding: 24dp)         │
│  ├─ v-row (搜索与筛选区)                                  │
│  │  ├─ v-col (cols="8")                                  │
│  │  │  └─ v-text-field (搜索框, prepend-icon="mdi-magnify")│
│  │  └─ v-col (cols="4")                                  │
│  │     └─ v-select (筛选: 全部/进行中/已完成)              │
│  ├─ v-row (会话卡片网格)                                  │
│  │  └─ v-col (cols="12" md="6" lg="4") × N               │
│  │     └─ v-card (会话卡片)                               │
│  │        ├─ v-card-title (会话名称)                      │
│  │        ├─ v-card-subtitle (创建时间)                   │
│  │        ├─ v-card-text (剧情进度摘要)                   │
│  │        └─ v-card-actions                              │
│  │           ├─ v-btn (进入, color="primary")            │
│  │           ├─ v-spacer                                 │
│  │           └─ v-btn (删除, icon, color="error")        │
│  └─ v-pagination (分页器, 底部居中)                       │
└─────────────────────────────────────────────────────────┘
```

#### 移动端（xs/sm）
- 搜索框与筛选器垂直堆叠
- 会话卡片单列显示（cols="12"）
- 卡片高度自适应，最小高度 120dp

### 组件清单

| 组件 | 类型 | 属性 | 说明 |
|------|------|------|------|
| v-app-bar | 顶部导航栏 | color="primary", elevation="1" | 固定在顶部 |
| v-toolbar-title | 标题 | - | 应用名称 |
| v-btn | 按钮 | color="primary", prepend-icon="mdi-plus" | 新建会话按钮 |
| v-container | 容器 | fluid, max-width="1200px" | 主内容区 |
| v-text-field | 输入框 | prepend-inner-icon="mdi-magnify", placeholder="搜索会话" | 搜索功能 |
| v-select | 下拉选择 | :items="['全部', '进行中', '已完成']" | 筛选器 |
| v-card | 卡片 | elevation="2", hover | 会话卡片 |
| v-pagination | 分页器 | length="总页数", v-model="当前页" | 底部分页 |

### 响应式规则

| 断点 | 布局调整 |
|------|----------|
| xs | 单列，搜索与筛选垂直堆叠，卡片 cols="12" |
| sm | 单列，搜索与筛选水平排列，卡片 cols="12" |
| md | 双列，卡片 cols="6" |
| lg | 三列，卡片 cols="4" |
| xl | 三列，增加边距至 32dp |

### 尺寸与间距

- **顶部导航栏高度**：64dp
- **容器内边距**：24dp (lg/xl), 16dp (md), 12dp (xs/sm)
- **卡片间距**：16dp
- **卡片内边距**：16dp
- **按钮高度**：40dp
- **输入框高度**：56dp

---

## P02 新建会话

### 页面目标
引导用户创建新的剧情复现会话，上传或选择配置包。

### 布局结构

#### 桌面端（lg/xl）
```
┌─────────────────────────────────────────────────────────┐
│  v-app-bar (返回按钮 + 标题: "新建会话")                   │
├─────────────────────────────────────────────────────────┤
│  v-container (max-width: 800px, padding: 24dp)          │
│  └─ v-stepper (步骤器, v-model="step")                   │
│     ├─ v-stepper-header                                 │
│     │  ├─ v-stepper-item (1. 基本信息)                   │
│     │  ├─ v-divider                                     │
│     │  ├─ v-stepper-item (2. 配置加载)                   │
│     │  ├─ v-divider                                     │
│     │  └─ v-stepper-item (3. 确认创建)                   │
│     └─ v-stepper-window                                 │
│        ├─ v-stepper-window-item (步骤 1)                │
│        │  └─ v-form                                     │
│        │     ├─ v-text-field (会话名称, required)        │
│        │     ├─ v-textarea (会话描述, optional)          │
│        │     └─ v-btn (下一步, color="primary")          │
│        ├─ v-stepper-window-item (步骤 2)                │
│        │  └─ v-card                                     │
│        │     ├─ v-tabs (选择方式: 上传/选择已有)          │
│        │     ├─ v-file-input (上传配置包)                │
│        │     ├─ v-list (已有配置包列表)                   │
│        │     └─ v-btn-group (上一步/下一步)               │
│        └─ v-stepper-window-item (步骤 3)                │
│           └─ v-card                                     │
│              ├─ v-card-text (确认信息摘要)               │
│              └─ v-btn-group (上一步/创建)                │
└─────────────────────────────────────────────────────────┘
```

#### 移动端（xs/sm）
- 步骤器改为垂直布局
- 表单字段全宽显示
- 按钮组改为垂直堆叠

### 组件清单

| 组件 | 类型 | 属性 | 说明 |
|------|------|------|------|
| v-stepper | 步骤器 | v-model="step", alt-labels | 三步向导 |
| v-stepper-header | 步骤头 | - | 显示步骤进度 |
| v-stepper-item | 步骤项 | title, value | 步骤标题 |
| v-form | 表单 | v-model="valid" | 表单验证 |
| v-text-field | 输入框 | label, rules, required | 会话名称 |
| v-textarea | 多行输入 | label, rows="3" | 会话描述 |
| v-file-input | 文件上传 | accept=".json,.zip", label="上传配置包" | 配置包上传 |
| v-tabs | 标签页 | v-model="tab" | 切换上传/选择 |
| v-list | 列表 | - | 已有配置包列表 |

### 响应式规则

| 断点 | 布局调整 |
|------|----------|
| xs/sm | 步骤器垂直布局，按钮全宽 |
| md/lg/xl | 步骤器水平布局，按钮固定宽度 |

---

## P03 剧情推进（主界面）

### 页面目标
核心交互界面，展示剧情对话、接收用户输入、推进剧情。

### 布局结构

#### 桌面端（lg/xl）
```
┌─────────────────────────────────────────────────────────┐
│  v-app-bar (会话名称 + 工具栏按钮)                         │
│  ├─ v-btn (快照, icon="mdi-content-save")               │
│  ├─ v-btn (对比, icon="mdi-compare")                    │
│  └─ v-btn (导出, icon="mdi-export")                     │
├─────────────────────────────────────────────────────────┤
│  v-main                                                 │
│  └─ v-container (fluid, fill-height)                   │
│     └─ v-row (no-gutters, fill-height)                 │
│        ├─ v-col (cols="8")                             │
│        │  └─ v-card (剧情展示区, fill-height)           │
│        │     ├─ v-card-title (场景描述)                 │
│        │     ├─ v-divider                              │
│        │     ├─ v-card-text (对话历史, scrollable)      │
│        │     │  └─ v-timeline (对话时间线)              │
│        │     │     └─ v-timeline-item × N              │
│        │     │        ├─ v-avatar (人物头像)            │
│        │     │        └─ v-card (对话气泡)              │
│        │     └─ v-card-actions (输入区)                 │
│        │        ├─ v-textarea (用户输入, rows="2")      │
│        │        └─ v-btn (发送, color="primary")        │
│        └─ v-col (cols="4")                             │
│           └─ v-card (人物状态面板)                       │
│              ├─ v-tabs (切换人物)                       │
│              └─ v-expansion-panels (状态维度)           │
│                 ├─ v-expansion-panel (关系)            │
│                 ├─ v-expansion-panel (能力)            │
│                 ├─ v-expansion-panel (视野)            │
│                 └─ v-expansion-panel (性格)            │
└─────────────────────────────────────────────────────────┘
```

#### 移动端（xs/sm）
- 单列布局，人物状态面板改为底部抽屉（v-bottom-sheet）
- 输入区固定在底部
- 对话历史区占据主要空间

### 组件清单

| 组件 | 类型 | 属性 | 说明 |
|------|------|------|------|
| v-timeline | 时间线 | density="compact", side="end" | 对话历史 |
| v-timeline-item | 时间线项 | dot-color, size="small" | 单条对话 |
| v-avatar | 头像 | size="40" | 人物头像 |
| v-textarea | 多行输入 | auto-grow, rows="2", max-rows="6" | 用户输入 |
| v-tabs | 标签页 | v-model="activeCharacter" | 切换人物 |
| v-expansion-panels | 折叠面板 | v-model="panels" | 状态维度 |
| v-bottom-sheet | 底部抽屉 | v-model="sheet" | 移动端状态面板 |

### 响应式规则

| 断点 | 布局调整 |
|------|----------|
| xs/sm | 单列，状态面板改为底部抽屉，输入区固定底部 |
| md | 双列，剧情区 cols="7"，状态区 cols="5" |
| lg/xl | 双列，剧情区 cols="8"，状态区 cols="4" |

### 尺寸与间距

- **对话气泡最大宽度**：600dp
- **对话气泡内边距**：12dp
- **头像尺寸**：40dp
- **输入框最小高度**：56dp
- **输入框最大高度**：200dp
- **状态面板内边距**：16dp

---

## P04 人物状态面板

### 页面目标
展示当前在场人物的状态信息，支持折叠/展开不同维度。

### 布局结构

```
v-card (人物状态面板)
├─ v-card-title
│  └─ v-tabs (切换人物)
│     └─ v-tab × N (人物名称 + 头像)
├─ v-divider
└─ v-card-text
   └─ v-expansion-panels (accordion, multiple)
      ├─ v-expansion-panel (关系维度)
      │  ├─ v-expansion-panel-title
      │  │  ├─ v-icon (mdi-account-group)
      │  │  └─ "关系"
      │  └─ v-expansion-panel-text
      │     └─ v-list
      │        └─ v-list-item × N
      │           ├─ v-list-item-title (关系对象)
      │           └─ v-list-item-subtitle (关系值)
      ├─ v-expansion-panel (能力维度)
      │  └─ v-progress-linear × N (能力条)
      ├─ v-expansion-panel (视野维度)
      │  └─ v-chip-group (已知信息标签)
      │     └─ v-chip × N
      └─ v-expansion-panel (性格维度)
         └─ v-slider × N (性格维度滑块, readonly)
```

### 组件清单

| 组件 | 类型 | 属性 | 说明 |
|------|------|------|------|
| v-tabs | 标签页 | density="compact", show-arrows | 切换人物 |
| v-tab | 标签项 | - | 人物名称 |
| v-expansion-panels | 折叠面板组 | accordion, multiple | 状态维度 |
| v-expansion-panel | 折叠面板 | - | 单个维度 |
| v-list | 列表 | density="compact" | 关系列表 |
| v-progress-linear | 进度条 | height="8", readonly | 能力值 |
| v-chip | 标签 | size="small", closable | 已知信息 |
| v-slider | 滑块 | readonly, thumb-label | 性格维度 |

### 响应式规则

| 断点 | 布局调整 |
|------|----------|
| xs/sm | 改为底部抽屉，默认折叠所有面板 |
| md/lg/xl | 侧边栏固定，默认展开第一个面板 |

---

## P05 快照列表

### 页面目标
展示当前会话的所有快照，支持保存、加载、删除快照。

### 布局结构

```
v-dialog (快照管理对话框, max-width="800px")
└─ v-card
   ├─ v-card-title
   │  ├─ "快照管理"
   │  └─ v-btn (关闭, icon, position="absolute right")
   ├─ v-divider
   ├─ v-card-text
   │  ├─ v-btn (新建快照, block, color="primary")
   │  ├─ v-divider (margin: 16dp 0)
   │  └─ v-timeline (快照时间线)
   │     └─ v-timeline-item × N
   │        ├─ v-card (快照卡片)
   │        │  ├─ v-card-title (快照名称)
   │        │  ├─ v-card-subtitle (保存时间)
   │        │  ├─ v-card-text (剧情节点摘要)
   │        │  └─ v-card-actions
   │        │     ├─ v-btn (加载, color="primary")
   │        │     ├─ v-btn (重命名)
   │        │     └─ v-btn (删除, color="error")
   │        └─ v-icon (时间线图标, mdi-content-save)
   └─ v-card-actions
      └─ v-btn (关闭, text)
```

### 组件清单

| 组件 | 类型 | 属性 | 说明 |
|------|------|------|------|
| v-dialog | 对话框 | v-model="dialog", max-width="800px" | 快照管理弹窗 |
| v-timeline | 时间线 | side="end", density="compact" | 快照时间线 |
| v-timeline-item | 时间线项 | dot-color="primary", size="small" | 单个快照 |

### 响应式规则

| 断点 | 布局调整 |
|------|----------|
| xs/sm | 对话框全屏显示，按钮垂直堆叠 |
| md/lg/xl | 对话框居中，最大宽度 800dp |

---

## P06 对比报告

### 页面目标
展示当前分支与原剧情锚点的对比结果，多维度差异展示。

### 布局结构

```
v-container (max-width: 1200px)
└─ v-card
   ├─ v-card-title
   │  ├─ "对比报告"
   │  └─ v-select (选择锚点, style="max-width: 300px")
   ├─ v-divider
   ├─ v-card-text
   │  ├─ v-alert (总体评分, type="info")
   │  │  └─ "贴合度：85%"
   │  ├─ v-tabs (对比维度)
   │  │  ├─ v-tab (人物状态)
   │  │  ├─ v-tab (视野)
   │  │  ├─ v-tab (环境)
   │  │  └─ v-tab (情节)
   │  └─ v-window (v-model="tab")
   │     ├─ v-window-item (人物状态对比)
   │     │  └─ v-data-table (对比表格)
   │     │     ├─ 列: 维度/原剧情/当前分支/差异
   │     │     └─ v-chip (差异标记, color="warning")
   │     ├─ v-window-item (视野对比)
   │     │  └─ v-row
   │     │     ├─ v-col (原剧情视野)
   │     │     │  └─ v-chip-group
   │     │     └─ v-col (当前分支视野)
   │     │        └─ v-chip-group
   │     ├─ v-window-item (环境对比)
   │     └─ v-window-item (情节对比)
   └─ v-card-actions
      ├─ v-btn (导出报告, prepend-icon="mdi-download")
      └─ v-btn (关闭)
```

### 组件清单

| 组件 | 类型 | 属性 | 说明 |
|------|------|------|------|
| v-alert | 提示框 | type="info", prominent | 总体评分 |
| v-tabs | 标签页 | v-model="tab" | 对比维度 |
| v-window | 窗口 | v-model="tab" | 内容切换 |
| v-data-table | 数据表格 | :headers, :items | 对比表格 |
| v-chip | 标签 | color="warning/success/error" | 差异标记 |

### 响应式规则

| 断点 | 布局调整 |
|------|----------|
| xs/sm | 表格改为卡片列表，标签页改为下拉选择 |
| md/lg/xl | 表格正常显示，标签页水平排列 |

---

## P07 导出/导入对话框

### 页面目标
导出/导入配置包，处理冲突。

### 布局结构

```
v-dialog (max-width="600px")
└─ v-card
   ├─ v-card-title
   │  └─ "导出/导入"
   ├─ v-divider
   ├─ v-card-text
   │  └─ v-tabs (v-model="mode")
   │     ├─ v-tab (导出)
   │     └─ v-tab (导入)
   │  └─ v-window (v-model="mode")
   │     ├─ v-window-item (导出)
   │     │  └─ v-form
   │     │     ├─ v-select (导出类型: 人物/场景/完整会话)
   │     │     ├─ v-checkbox-group (选择导出项)
   │     │     └─ v-btn (导出, color="primary")
   │     └─ v-window-item (导入)
   │        └─ v-form
   │           ├─ v-file-input (上传文件)
   │           ├─ v-alert (冲突提示, v-if="hasConflict")
   │           ├─ v-radio-group (冲突策略)
   │           │  ├─ v-radio (拒绝导入)
   │           │  ├─ v-radio (覆盖)
   │           │  └─ v-radio (重命名)
   │           └─ v-btn (导入, color="primary")
   └─ v-card-actions
      └─ v-btn (关闭)
```

### 组件清单

| 组件 | 类型 | 属性 | 说明 |
|------|------|------|------|
| v-dialog | 对话框 | v-model="dialog", max-width="600px" | 导出/导入弹窗 |
| v-tabs | 标签页 | v-model="mode" | 切换导出/导入 |
| v-select | 下拉选择 | :items, label | 导出类型 |
| v-checkbox-group | 复选框组 | v-model="selected" | 选择导出项 |
| v-file-input | 文件上传 | accept=".json,.zip" | 导入文件 |
| v-alert | 提示框 | type="warning", v-if="hasConflict" | 冲突提示 |
| v-radio-group | 单选组 | v-model="strategy" | 冲突策略 |

### 响应式规则

| 断点 | 布局调整 |
|------|----------|
| xs/sm | 对话框全屏显示 |
| md/lg/xl | 对话框居中，最大宽度 600dp |

---

## 附录

### 通用设计规范

#### 间距系统
- **xs**: 4dp
- **sm**: 8dp
- **md**: 16dp
- **lg**: 24dp
- **xl**: 32dp
- **xxl**: 48dp

#### 圆角
- **小组件**: 4dp
- **卡片**: 8dp
- **对话框**: 12dp
- **按钮**: 4dp

#### 阴影（Elevation）
- **Level 1**: 卡片悬停
- **Level 2**: 卡片默认
- **Level 4**: 对话框
- **Level 8**: 导航栏

### 参考文档
- [UI-01 体验目标与信息架构](UI-01-体验目标与信息架构.md)
- [Vuetify 3 组件文档](https://vuetifyjs.com/en/components/)
- [Material Design 3 规范](https://m3.material.io/)

---

**文档状态**：待评审
**下一步**：UI-03 交互稿（W2）
